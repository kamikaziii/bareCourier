{
  "timestamp": "2026-01-26T00:00:00Z",
  "total_files": 99,
  "migrations": 32,
  "excluded": "src/lib/components/ui/* (shadcn-svelte)",
  "domains": {
    "security": {
      "files": [
        "src/hooks.server.ts",
        "src/hooks.ts",
        "src/routes/+layout.server.ts",
        "src/routes/courier/+layout.server.ts",
        "src/routes/client/+layout.server.ts",
        "src/routes/login/+page.svelte",
        "src/routes/login/+page.ts",
        "src/routes/api/reports/csv/+server.ts"
      ],
      "focus": ["auth bypass", "session handling", "input validation", "RLS policies"],
      "count": 8
    },
    "data": {
      "files": [
        "src/routes/courier/+page.server.ts",
        "src/routes/courier/services/+page.server.ts",
        "src/routes/courier/services/[id]/+page.server.ts",
        "src/routes/courier/services/[id]/edit/+page.server.ts",
        "src/routes/courier/clients/+page.ts",
        "src/routes/courier/clients/[id]/+page.server.ts",
        "src/routes/courier/clients/[id]/edit/+page.server.ts",
        "src/routes/courier/billing/+page.server.ts",
        "src/routes/courier/billing/[client_id]/+page.server.ts",
        "src/routes/courier/reports/+page.server.ts",
        "src/routes/courier/analytics/+page.server.ts",
        "src/routes/courier/insights/+page.server.ts",
        "src/routes/courier/requests/+page.server.ts",
        "src/routes/courier/calendar/+page.server.ts",
        "src/routes/courier/settings/+page.server.ts",
        "src/routes/client/+page.server.ts",
        "src/routes/client/new/+page.server.ts",
        "src/routes/client/services/[id]/+page.server.ts",
        "src/routes/client/billing/+page.server.ts",
        "src/routes/client/settings/+page.server.ts",
        "src/lib/services/pricing.ts",
        "src/lib/services/distance.ts",
        "src/lib/services/insights-data.ts",
        "src/lib/services/push.ts",
        "src/lib/services/offline-store.ts",
        "src/lib/services/geocoding.ts",
        "src/lib/database.types.ts"
      ],
      "focus": ["N+1 queries", "missing indexes", "transaction boundaries", "type safety"],
      "count": 27
    },
    "frontend": {
      "files": [
        "src/routes/courier/+page.svelte",
        "src/routes/courier/+layout.svelte",
        "src/routes/courier/services/+page.svelte",
        "src/routes/courier/services/[id]/+page.svelte",
        "src/routes/courier/services/[id]/edit/+page.svelte",
        "src/routes/courier/clients/+page.svelte",
        "src/routes/courier/clients/[id]/+page.svelte",
        "src/routes/courier/clients/[id]/edit/+page.svelte",
        "src/routes/courier/billing/+page.svelte",
        "src/routes/courier/billing/[client_id]/+page.svelte",
        "src/routes/courier/reports/+page.svelte",
        "src/routes/courier/analytics/+page.svelte",
        "src/routes/courier/insights/+page.svelte",
        "src/routes/courier/requests/+page.svelte",
        "src/routes/courier/calendar/+page.svelte",
        "src/routes/courier/settings/+page.svelte",
        "src/routes/courier/settings/SchedulingTab.svelte",
        "src/routes/courier/settings/AccountTab.svelte",
        "src/routes/courier/settings/NotificationsTab.svelte",
        "src/routes/courier/settings/PricingTab.svelte",
        "src/routes/client/+page.svelte",
        "src/routes/client/+layout.svelte",
        "src/routes/client/new/+page.svelte",
        "src/routes/client/services/[id]/+page.svelte",
        "src/routes/client/billing/+page.svelte",
        "src/routes/client/settings/+page.svelte",
        "src/routes/+page.svelte",
        "src/routes/+layout.svelte",
        "src/lib/components/NotificationBell.svelte",
        "src/lib/components/PricingConfigForm.svelte",
        "src/lib/components/SchedulePicker.svelte",
        "src/lib/components/AddressInput.svelte",
        "src/lib/components/RouteMap.svelte",
        "src/lib/components/RescheduleDialog.svelte",
        "src/lib/components/Sidebar.svelte",
        "src/lib/components/MobileBottomNav.svelte",
        "src/lib/components/MoreDrawer.svelte",
        "src/lib/components/PullToRefresh.svelte",
        "src/lib/components/OfflineIndicator.svelte",
        "src/lib/components/ReloadPrompt.svelte",
        "src/lib/components/UrgencyBadge.svelte",
        "src/lib/components/SkeletonCard.svelte",
        "src/lib/components/SkeletonList.svelte",
        "src/lib/components/SidebarItem.svelte",
        "src/lib/components/charts/Chart.svelte",
        "src/lib/components/insights/DataTab.svelte",
        "src/lib/components/insights/ChartsTab.svelte",
        "src/lib/components/insights/OverviewTab.svelte"
      ],
      "focus": ["Svelte 5 runes compliance", "code duplication", "naming conventions", "shadcn patterns"],
      "count": 48
    },
    "architecture": {
      "files": [
        "src/routes/+layout.ts",
        "src/routes/courier/+layout.ts",
        "src/routes/client/+layout.ts",
        "src/routes/+page.ts",
        "src/routes/courier/+page.ts",
        "src/routes/courier/services/+page.ts",
        "src/routes/client/+page.ts",
        "src/routes/client/new/+page.ts",
        "src/app.d.ts",
        "src/lib/utils.ts",
        "src/lib/utils/past-due.ts",
        "src/lib/index.ts",
        "src/lib/types/navigation.ts",
        "src/lib/constants/scheduling.ts",
        "src/service-worker.ts"
      ],
      "focus": ["structure", "dependencies", "type definitions", "service worker"],
      "count": 15
    },
    "migrations": {
      "files": [
        "supabase/migrations/001_initial_schema.sql",
        "supabase/migrations/002_fix_rls_policies_performance.sql",
        "supabase/migrations/003_cleanup_duplicate_rls_policies.sql",
        "supabase/migrations/004_fix_rls_infinite_recursion.sql",
        "supabase/migrations/005_fix_services_rls_policies.sql",
        "supabase/migrations/006_fix_is_courier_search_path.sql",
        "supabase/migrations/007_fix_handle_new_user_force_client_role.sql",
        "supabase/migrations/008_add_delete_policies.sql",
        "supabase/migrations/009_add_service_soft_delete.sql",
        "supabase/migrations/010_create_service_status_history.sql",
        "supabase/migrations/011_create_notifications_table.sql",
        "supabase/migrations/012_fix_function_search_paths.sql",
        "supabase/migrations/013_fix_phase1_security_issues.sql",
        "supabase/migrations/014_create_client_pricing.sql",
        "supabase/migrations/015_create_pricing_zones.sql",
        "supabase/migrations/016_create_urgency_fees.sql",
        "supabase/migrations/017_add_service_pricing_fields.sql",
        "supabase/migrations/018_fix_pricing_function_search_paths.sql",
        "supabase/migrations/019_add_client_update_policy.sql",
        "supabase/migrations/020_create_replace_pricing_zones_function.sql",
        "supabase/migrations/021_add_notification_preferences.sql",
        "supabase/migrations/022_add_pricing_mode_to_profiles.sql",
        "supabase/migrations/023_restrict_client_service_updates.sql",
        "supabase/migrations/024_add_reschedule_tracking.sql",
        "supabase/migrations/024b_fix_reschedule_fk_on_delete.sql",
        "supabase/migrations/025_add_past_due_settings.sql",
        "supabase/migrations/026_create_reschedule_history.sql",
        "supabase/migrations/027_add_pending_reschedule_fields.sql",
        "supabase/migrations/028_pricing_display_settings.sql",
        "supabase/migrations/029_add_past_due_notification_tracking.sql",
        "supabase/migrations/030_add_scheduling_settings.sql",
        "supabase/migrations/031_setup_notification_cron_jobs.sql"
      ],
      "focus": ["RLS policies", "security functions", "data integrity"],
      "count": 32
    }
  }
}
